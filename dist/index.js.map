{"version":3,"file":"index.js","sources":["../src/Container.tsx","../src/Draggable.tsx"],"sourcesContent":["import React, { Component, CSSProperties } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { smoothDnD as container } from 'smooth-dnd';\r\nimport { dropHandlers } from 'smooth-dnd';\r\nimport { ContainerOptions, SmoothDnD } from 'smooth-dnd/dist/src/interfaces';\r\n\r\ncontainer.dropHandler = dropHandlers.reactDropHandler().handler;\r\ncontainer.wrapChild = false;\r\n\r\ninterface ContainerProps extends ContainerOptions {\r\n\trender?: (rootRef: React.RefObject<any>) => React.ReactElement;\r\n\tstyle?: CSSProperties;\r\n}\r\n\r\nclass Container extends Component<ContainerProps> {\r\n\tpublic static propTypes = {\r\n\t\tbehaviour: PropTypes.oneOf(['move', 'copy', 'drag-zone']),\r\n\t\tgroupName: PropTypes.string,\r\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\r\n\t\tstyle: PropTypes.object,\r\n\t\tdragHandleSelector: PropTypes.string,\r\n\t\tnonDragAreaSelector: PropTypes.string,\r\n\t\tdragBeginDelay: PropTypes.number,\r\n\t\tanimationDuration: PropTypes.number,\r\n\t\tautoScrollEnabled: PropTypes.string,\r\n\t\tlockAxis: PropTypes.string,\r\n\t\tdragClass: PropTypes.string,\r\n\t\tdropClass: PropTypes.string,\r\n\t\tonDragStart: PropTypes.func,\r\n\t\tonDragEnd: PropTypes.func,\r\n\t\tonDrop: PropTypes.func,\r\n\t\tgetChildPayload: PropTypes.func,\r\n\t\tshouldAnimateDrop: PropTypes.func,\r\n\t\tshouldAcceptDrop: PropTypes.func,\r\n\t\tonDragEnter: PropTypes.func,\r\n\t\tonDragLeave: PropTypes.func,\r\n\t\trender: PropTypes.func,\r\n\t\tgetGhostParent: PropTypes.func,\r\n\t\tremoveOnDropOut: PropTypes.bool,\r\n\t};\r\n\r\n\tpublic static defaultProps = {\r\n\t\tbehaviour: 'move',\r\n\t\torientation: 'vertical',\r\n\t};\r\n\r\n\tprevContainer: null;\r\n\tcontainer: SmoothDnD = null!;\r\n\tcontainerRef: React.RefObject<any> = React.createRef();\r\n  constructor(props: ContainerProps) {\r\n    super(props);\r\n\t\tthis.getContainerOptions = this.getContainerOptions.bind(this);\r\n\t\tthis.getContainer = this.getContainer.bind(this);\r\n    this.prevContainer = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.prevContainer = this.getContainer();\r\n    this.container = container(this.getContainer(), this.getContainerOptions());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.container.dispose();\r\n    this.container = null!;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.getContainer()) {\r\n      if (this.prevContainer && this.prevContainer !== this.getContainer()) {\r\n        this.container.dispose();\r\n        this.container = container(this.getContainer(), this.getContainerOptions());\r\n        this.prevContainer = this.getContainer();\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.render) {\r\n\t\t\treturn this.props.render(this.containerRef);\r\n    } else {\r\n      return (\r\n        <div style={this.props.style} ref={this.containerRef}>\r\n          {this.props.children}\r\n        </div>\r\n      );\r\n    }\r\n\t}\r\n\t\r\n\tgetContainer() {\r\n\t\treturn this.containerRef.current;\r\n\t}\r\n\r\n  getContainerOptions(): ContainerProps {\r\n    const functionProps: any = {};\r\n\r\n    if (this.props.onDragStart) {\r\n      functionProps.onDragStart = this.props.onDragStart.bind(null);\r\n    }\r\n\r\n    if (this.props.onDragEnd) {\r\n\t\t\tfunctionProps.onDragEnd = this.props.onDragEnd.bind(null);\r\n    }\r\n\r\n    if (this.props.onDrop) {\r\n      functionProps.onDrop = this.props.onDrop.bind(null);\r\n    }\r\n\r\n    if (this.props.getChildPayload) {\r\n      functionProps.getChildPayload = this.props.getChildPayload.bind(null);\r\n    }\r\n\r\n    if (this.props.shouldAnimateDrop) {\r\n      functionProps.shouldAnimateDrop = this.props.shouldAnimateDrop.bind(null);\r\n    }\r\n\r\n    if (this.props.shouldAcceptDrop) {\r\n      functionProps.shouldAcceptDrop = this.props.shouldAcceptDrop.bind(null);\r\n    }\r\n\r\n    if (this.props.onDragEnter) {\r\n      functionProps.onDragEnter = this.props.onDragEnter.bind(null);\r\n    }\r\n\r\n    if (this.props.onDragLeave) {\r\n      functionProps.onDragLeave = this.props.onDragLeave.bind(null);\r\n    }\r\n\r\n    if (this.props.render) {\r\n      functionProps.render = this.props.render.bind(null);\r\n    }\r\n\r\n    if (this.props.onDropReady) {\r\n      functionProps.onDropReady = this.props.onDropReady.bind(null);\r\n    }\r\n\r\n    if (this.props.getGhostParent) {\r\n      functionProps.getGhostParent = this.props.getGhostParent.bind(null);\r\n    }\r\n\r\n    return Object.assign({}, this.props, functionProps);\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { constants } from 'smooth-dnd';\r\nconst {\r\n\twrapperClass\r\n} = constants;\r\n\r\nexport interface DraggableProps {\r\n\trender?: () => React.ReactElement;\r\n\tclassName?: string;\r\n}\r\n\r\nclass Draggable extends Component<DraggableProps> {\r\n\tpublic static propsTypes = {\r\n\t\trender: PropTypes.func,\r\n\t\tclassName: PropTypes.string,\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.render) {\r\n\t\t\treturn React.cloneElement(this.props.render(), { className: wrapperClass });\r\n\t\t}\r\n\t\t\r\n\t\tconst clsName = `${this.props.className ? (this.props.className + ' ') : ''}`\r\n\t\treturn (\r\n\t\t\t<div {...this.props} className={`${clsName}${wrapperClass}`} >\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Draggable;"],"names":["container","dropHandler","dropHandlers","reactDropHandler","handler","wrapChild","Container","props","React","createRef","getContainerOptions","bind","getContainer","prevContainer","dispose","render","containerRef","style","children","current","functionProps","onDragStart","onDragEnd","onDrop","getChildPayload","shouldAnimateDrop","shouldAcceptDrop","onDragEnter","onDragLeave","onDropReady","getGhostParent","Object","assign","Component","behaviour","PropTypes","oneOf","groupName","string","orientation","object","dragHandleSelector","nonDragAreaSelector","dragBeginDelay","number","animationDuration","autoScrollEnabled","lockAxis","dragClass","dropClass","func","removeOnDropOut","bool","wrapperClass","constants","Draggable","cloneElement","className","clsName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMAA,qBAAS,CAACC,WAAV,GAAwBC,sBAAY,CAACC,gBAAb,GAAgCC,OAAxD;AACAJ,qBAAS,CAACK,SAAV,GAAsB,KAAtB;;MAOMC;;;;;EAmCJ,qBAAYC,KAAZ,EAAmC;EAAA;;EAAA;;EACjC,mFAAMA,KAAN;;EADiC;;EAAA,gEAFb,IAEa;;EAAA,mEADCC,cAAK,CAACC,SAAN,EACD;;EAEnC,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,+BAA3B;EACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;EACE,UAAKE,aAAL,GAAqB,IAArB;EAJiC;EAKlC;;;;0CAEmB;EAClB,WAAKA,aAAL,GAAqB,KAAKD,YAAL,EAArB;EACA,WAAKZ,SAAL,GAAiBA,mBAAS,CAAC,KAAKY,YAAL,EAAD,EAAsB,KAAKF,mBAAL,EAAtB,CAA1B;EACD;;;6CAEsB;EACrB,WAAKV,SAAL,CAAec,OAAf;EACA,WAAKd,SAAL,GAAiB,IAAjB;EACD;;;2CAEoB;EACnB,UAAI,KAAKY,YAAL,EAAJ,EAAyB;EACvB,YAAI,KAAKC,aAAL,IAAsB,KAAKA,aAAL,KAAuB,KAAKD,YAAL,EAAjD,EAAsE;EACpE,eAAKZ,SAAL,CAAec,OAAf;EACA,eAAKd,SAAL,GAAiBA,mBAAS,CAAC,KAAKY,YAAL,EAAD,EAAsB,KAAKF,mBAAL,EAAtB,CAA1B;EACA,eAAKG,aAAL,GAAqB,KAAKD,YAAL,EAArB;EACD;EACF;EACF;;;+BAEQ;EACP,UAAI,KAAKL,KAAL,CAAWQ,MAAf,EAAuB;EACxB,eAAO,KAAKR,KAAL,CAAWQ,MAAX,CAAkB,KAAKC,YAAvB,CAAP;EACE,OAFD,MAEO;EACL,eACER;EAAK,UAAA,KAAK,EAAE,KAAKD,KAAL,CAAWU,KAAvB;EAA8B,UAAA,GAAG,EAAE,KAAKD;EAAxC,WACG,KAAKT,KAAL,CAAWW,QADd,CADF;EAKD;EACH;;;qCAEc;EACd,aAAO,KAAKF,YAAL,CAAkBG,OAAzB;EACA;;;4CAEsC;EACpC,UAAMC,aAAkB,GAAG,EAA3B;;EAEA,UAAI,KAAKb,KAAL,CAAWc,WAAf,EAA4B;EAC1BD,QAAAA,aAAa,CAACC,WAAd,GAA4B,KAAKd,KAAL,CAAWc,WAAX,CAAuBV,IAAvB,CAA4B,IAA5B,CAA5B;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWe,SAAf,EAA0B;EAC3BF,QAAAA,aAAa,CAACE,SAAd,GAA0B,KAAKf,KAAL,CAAWe,SAAX,CAAqBX,IAArB,CAA0B,IAA1B,CAA1B;EACE;;EAED,UAAI,KAAKJ,KAAL,CAAWgB,MAAf,EAAuB;EACrBH,QAAAA,aAAa,CAACG,MAAd,GAAuB,KAAKhB,KAAL,CAAWgB,MAAX,CAAkBZ,IAAlB,CAAuB,IAAvB,CAAvB;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWiB,eAAf,EAAgC;EAC9BJ,QAAAA,aAAa,CAACI,eAAd,GAAgC,KAAKjB,KAAL,CAAWiB,eAAX,CAA2Bb,IAA3B,CAAgC,IAAhC,CAAhC;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWkB,iBAAf,EAAkC;EAChCL,QAAAA,aAAa,CAACK,iBAAd,GAAkC,KAAKlB,KAAL,CAAWkB,iBAAX,CAA6Bd,IAA7B,CAAkC,IAAlC,CAAlC;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWmB,gBAAf,EAAiC;EAC/BN,QAAAA,aAAa,CAACM,gBAAd,GAAiC,KAAKnB,KAAL,CAAWmB,gBAAX,CAA4Bf,IAA5B,CAAiC,IAAjC,CAAjC;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWoB,WAAf,EAA4B;EAC1BP,QAAAA,aAAa,CAACO,WAAd,GAA4B,KAAKpB,KAAL,CAAWoB,WAAX,CAAuBhB,IAAvB,CAA4B,IAA5B,CAA5B;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWqB,WAAf,EAA4B;EAC1BR,QAAAA,aAAa,CAACQ,WAAd,GAA4B,KAAKrB,KAAL,CAAWqB,WAAX,CAAuBjB,IAAvB,CAA4B,IAA5B,CAA5B;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWQ,MAAf,EAAuB;EACrBK,QAAAA,aAAa,CAACL,MAAd,GAAuB,KAAKR,KAAL,CAAWQ,MAAX,CAAkBJ,IAAlB,CAAuB,IAAvB,CAAvB;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWsB,WAAf,EAA4B;EAC1BT,QAAAA,aAAa,CAACS,WAAd,GAA4B,KAAKtB,KAAL,CAAWsB,WAAX,CAAuBlB,IAAvB,CAA4B,IAA5B,CAA5B;EACD;;EAED,UAAI,KAAKJ,KAAL,CAAWuB,cAAf,EAA+B;EAC7BV,QAAAA,aAAa,CAACU,cAAd,GAA+B,KAAKvB,KAAL,CAAWuB,cAAX,CAA0BnB,IAA1B,CAA+B,IAA/B,CAA/B;EACD;;EAED,aAAOoB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAvB,EAA8Ba,aAA9B,CAAP;EACD;;;;IA9HqBa;;kBAAlB3B,wBACqB;EACzB4B,EAAAA,SAAS,EAAEC,SAAS,CAACC,KAAV,CAAgB,CAAC,MAAD,EAAS,MAAT,EAAiB,WAAjB,CAAhB,CADc;EAEzBC,EAAAA,SAAS,EAAEF,SAAS,CAACG,MAFI;EAGzBC,EAAAA,WAAW,EAAEJ,SAAS,CAACC,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,CAAhB,CAHY;EAIzBnB,EAAAA,KAAK,EAAEkB,SAAS,CAACK,MAJQ;EAKzBC,EAAAA,kBAAkB,EAAEN,SAAS,CAACG,MALL;EAMzBI,EAAAA,mBAAmB,EAAEP,SAAS,CAACG,MANN;EAOzBK,EAAAA,cAAc,EAAER,SAAS,CAACS,MAPD;EAQzBC,EAAAA,iBAAiB,EAAEV,SAAS,CAACS,MARJ;EASzBE,EAAAA,iBAAiB,EAAEX,SAAS,CAACG,MATJ;EAUzBS,EAAAA,QAAQ,EAAEZ,SAAS,CAACG,MAVK;EAWzBU,EAAAA,SAAS,EAAEb,SAAS,CAACG,MAXI;EAYzBW,EAAAA,SAAS,EAAEd,SAAS,CAACG,MAZI;EAazBjB,EAAAA,WAAW,EAAEc,SAAS,CAACe,IAbE;EAczB5B,EAAAA,SAAS,EAAEa,SAAS,CAACe,IAdI;EAezB3B,EAAAA,MAAM,EAAEY,SAAS,CAACe,IAfO;EAgBzB1B,EAAAA,eAAe,EAAEW,SAAS,CAACe,IAhBF;EAiBzBzB,EAAAA,iBAAiB,EAAEU,SAAS,CAACe,IAjBJ;EAkBzBxB,EAAAA,gBAAgB,EAAES,SAAS,CAACe,IAlBH;EAmBzBvB,EAAAA,WAAW,EAAEQ,SAAS,CAACe,IAnBE;EAoBzBtB,EAAAA,WAAW,EAAEO,SAAS,CAACe,IApBE;EAqBzBnC,EAAAA,MAAM,EAAEoB,SAAS,CAACe,IArBO;EAsBzBpB,EAAAA,cAAc,EAAEK,SAAS,CAACe,IAtBD;EAuBzBC,EAAAA,eAAe,EAAEhB,SAAS,CAACiB;EAvBF;;kBADrB9C,2BA2BwB;EAC5B4B,EAAAA,SAAS,EAAE,MADiB;EAE5BK,EAAAA,WAAW,EAAE;EAFe;;MCrC7Bc,eACGC,oBADHD;;MAQKE;;;;;;;;;;;;;+BAMI;EACR,UAAI,KAAKhD,KAAL,CAAWQ,MAAf,EAAuB;EACtB,eAAOP,cAAK,CAACgD,YAAN,CAAmB,KAAKjD,KAAL,CAAWQ,MAAX,EAAnB,EAAwC;EAAE0C,UAAAA,SAAS,EAAEJ;EAAb,SAAxC,CAAP;EACA;;EAED,UAAMK,OAAO,aAAM,KAAKnD,KAAL,CAAWkD,SAAX,GAAwB,KAAKlD,KAAL,CAAWkD,SAAX,GAAuB,GAA/C,GAAsD,EAA5D,CAAb;EACA,aACCjD,iDAAS,KAAKD,KAAd;EAAqB,QAAA,SAAS,YAAKmD,OAAL,SAAeL,YAAf;EAA9B,UACE,KAAK9C,KAAL,CAAWW,QADb,CADD;EAKA;;;;IAjBsBe;;kBAAlBsB,yBACsB;EAC1BxC,EAAAA,MAAM,EAAEoB,SAAS,CAACe,IADQ;EAE1BO,EAAAA,SAAS,EAAEtB,SAAS,CAACG;EAFK;;;;;;;;;;;;;"}